{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-promises.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css'\n\nconst form = document.querySelector('.form');\n\nform.addEventListener('submit', (e) => {\n  e.preventDefault()\n \n  handlePromise(form.elements)\n})\n\nfunction handlePromise({ delay, step, amount }) {\n  setTimeout(() => {\n    for (let i = 1; i <= amount.value; i++) {\n      createPromise(i, step.value)\n        .then(({ position, delay }) => {\n          setTimeout(() => {\n            iziToast.show({\n              color: 'green',\n              position: 'topRight',\n              message: `✅ Fulfilled promise ${position} in ${delay}ms`\n          });\n          },delay) \n        }, ({ position, delay }) => {\n          setTimeout(() => {\n            iziToast.show({\n              color: 'red',\n              position: 'topRight',\n              message: `❌ Rejected promise ${position} in ${delay}ms`\n          });\n          }, delay)\n        })\n    }\n  }, delay.value) \n}\n\n \nfunction createPromise(position, delay) {\n  return new Promise((res, rej) => {\n    const shouldResolve = Math.random() > 0.3;    \n     if (shouldResolve) {\n        res({\n          position,\n          delay: delay * position\n        })\n      } else {\n         rej({\n          position,\n          delay: delay * position\n        })\n      }\n  })\n}\n\n\n"],"names":["form","handlePromise","delay","step","amount","i","createPromise","position","iziToast","res","rej"],"mappings":"wIAGA,MAAMA,EAAO,SAAS,cAAc,OAAO,EAE3CA,EAAK,iBAAiB,SAAW,GAAM,CACrC,EAAE,eAAgB,EAElBC,EAAcD,EAAK,QAAQ,CAC7B,CAAC,EAED,SAASC,EAAc,CAAE,MAAAC,EAAO,KAAAC,EAAM,OAAAC,CAAM,EAAI,CAC9C,WAAW,IAAM,CACf,QAASC,EAAI,EAAGA,GAAKD,EAAO,MAAOC,IACjCC,EAAcD,EAAGF,EAAK,KAAK,EACxB,KAAK,CAAC,CAAE,SAAAI,EAAU,MAAAL,KAAY,CAC7B,WAAW,IAAM,CACfM,EAAS,KAAK,CACZ,MAAO,QACP,SAAU,WACV,QAAS,uBAAuBD,QAAeL,KAC7D,CAAW,CACA,EAACA,CAAK,CACjB,EAAW,CAAC,CAAE,SAAAK,EAAU,MAAAL,KAAY,CAC1B,WAAW,IAAM,CACfM,EAAS,KAAK,CACZ,MAAO,MACP,SAAU,WACV,QAAS,sBAAsBD,QAAeL,KAC5D,CAAW,CACA,EAAEA,CAAK,CAClB,CAAS,CAET,EAAKA,EAAM,KAAK,CAChB,CAGA,SAASI,EAAcC,EAAUL,EAAO,CACtC,OAAO,IAAI,QAAQ,CAACO,EAAKC,IAAQ,CACT,KAAK,OAAM,EAAK,GAElCD,EAAI,CACF,SAAAF,EACA,MAAOL,EAAQK,CACzB,CAAS,EAEAG,EAAI,CACH,SAAAH,EACA,MAAOL,EAAQK,CACzB,CAAS,CAET,CAAG,CACH"}